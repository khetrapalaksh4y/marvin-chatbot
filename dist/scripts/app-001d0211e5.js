!function(){"use strict";angular.module("surveyChatbot",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","restangular","ui.router","ngMaterial","toastr"])}(),function(){"use strict";function e(e){function t(){r().then(r).then(r).then()}function n(e){var t=0;s(d,e)?t=1:s(v,e)&&(t=-1),f=t}function s(e,t){var n=!1;return e.forEach(function(e){return a(e,t)>.7?(n=!0,!1):void 0}),n}function a(e,t){var n=e,s=t;e.length<t.length&&(n=t,s=e);var a=n.length;return 0==a?1:(a-o(n,s))/parseFloat(a)}function o(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var n=[],s=0;s<=e.length;s++){for(var a=s,o=0;o<=t.length;o++)if(0==s)n[o]=o;else if(o>0){var r=n[o-1];e.charAt(s-1)!=t.charAt(o-1)&&(r=Math.min(Math.min(r,a),n[o])+1),n[o-1]=a,a=r}s>0&&(n[t.length]=a)}return n[t.length]}function r(){return new Promise(function(t,n){e(function(){u.typing=!0},300),e(function(){u.sendMessage(l(),!0),t()},500+2500*Math.random())})}function l(){var e=c();return 3>h?e=p[h]:3==h?e=i():h>3&&f>-1&&h<g.length+4&&(e=g[h-4]),h++,e}function i(){return-1==f?"Ah! Alright then. You can come back any time.":0==f?"I didn't exactly get that. I'll go ahead anyways.":1==f?"Great! Let's start.":void 0}function c(){return m[Math.floor(Math.random()*m.length)]}var u=this,h=0,g=["How often do you eat chocolates?","What kind of chocolates do you like?","Would you be interested in getting a pack of chocolates every week?"],p=["Hi, I am Marvin.","I am here to ask you a few questions.","Are you ready?"],m=["It was fun talking to you.","Okay then! Bye bye. You may go now.","Don't mock me. You know I'll soon run out of responses.","Why did the chicken cross the road? Don't bother, I don't have an answer.","*knock *knock. Don't answer"],d=["yes","yep","yo","yeah","let's"],v=["no","nah","later","nope"],f=0;u.botAvatar="http://vignette2.wikia.nocookie.net/edain-mod/images/5/56/The_Necromancer0_Bot_Avatar.png/revision/latest?cb=20160321121352",u.responses=[],u.messageInput="",t(),u.sendMessage=function(t,s){var a=new Date,o=a.getMinutes();10>o&&(o="0"+o),u.typing=s?!1:u.typing,u.messageInput=s?u.messageInput:"",u.responses.push({id:u.responses.length,left:s,message:t}),document.getElementsByClassName("messages")[0].scrollTop=document.getElementsByClassName("messages")[0].scrollHeight,s||(n(t),h>3?r().then():r().then(r).then()),e(function(){u.responses[u.responses.length-1].date=a.getHours()+":"+o},5e3)}}e.$inject=["$timeout"],angular.module("surveyChatbot").controller("ChatController",e)}(),function(){"use strict";function e(){}angular.module("surveyChatbot").run(e)}(),function(){"use strict";function e(e,t){e.state("home",{url:"/",templateUrl:"app/templates/index.html",controller:"IndexController",controllerAs:"index"}).state("oops",{url:"/oops",templateUrl:"app/templates/404.html",controller:"IndexController",controllerAs:"index"}).state("chat",{url:"/chat",templateUrl:"app/templates/chat.html",controller:"ChatController",controllerAs:"chat"}),t.otherwise("/oops")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("surveyChatbot").config(e)}(),function(){"use strict";angular.module("surveyChatbot").constant("AppConstant",{})}(),function(){"use strict";function e(e){e.debugEnabled(!0)}e.$inject=["$logProvider"],angular.module("surveyChatbot").config(e)}(),angular.module("surveyChatbot").run(["$templateCache",function(e){e.put("app/templates/404.html",""),e.put("app/templates/chat.html",'<div class=chat><div class=chat-title><h1>Marvin</h1><h2 ng-show=!chat.typing>online</h2><h2 ng-show=chat.typing>is typing...</h2><figure class=avatar><img ng-src={{chat.botAvatar}}></figure></div><div class=messages><div class="messages-content new"><div class="message new" ng-class="{\'message-personal\': !response.left}" ng-repeat="response in chat.responses"><figure class=avatar ng-show=response.left><img ng-src={{chat.botAvatar}}></figure><span>{{response.message}}</span><div class=timestamp ng-show=$last>{{response.date}}</div></div><div class="message loading" ng-show=chat.typing><figure class=avatar><img ng-src={{chat.botAvatar}}></figure><span></span></div></div></div><div class=message-box><textarea type=text ng-keypress="($event.which === 13 && chat.messageInput.length && chat.responses[chat.responses.length - 1].left) ? chat.sendMessage(chat.messageInput, false) : \'\'" class=message-input ng-model=chat.messageInput placeholder="Type your message..."></textarea><button type=submit ng-disabled="chat.typing || !chat.responses[chat.responses.length - 1].left" class=message-submit ng-click="chat.sendMessage(chat.messageInput, false)">Send</button></div></div><div class=bg></div>'),e.put("app/templates/index.html","")}]);
//# sourceMappingURL=../maps/scripts/app-001d0211e5.js.map
